import{d as a,j as e,k as t,x as o,l as s,m as l,aN as i,G as r,o as n,c as p,p as d,e as c,a as u,w as m,s as b,q as g,ad as f,E as v,D as j,F as h}from"./index.10862972.js";import{v as x}from"./el-loading.3e94a9b8.js";import{_ as y}from"./index.ab5ba8bc.js";import{E as k,a as w}from"./el-table-column.5be85ec0.js";import"./el-checkbox.a8d4a77f.js";import"./el-tooltip.586473e3.js";import"./el-popper.234d384f.js";/* empty css                     *//* empty css                */import{_,a as C}from"./index.8b11fa54.js";import{b as I}from"./route-block.b5bad31b.js";import"./index.9345f17b.js";import"./event.4982e83d.js";import"./focus-trap.f06a5d9a.js";import"./debounce.8db0ae9f.js";import"./index.1cf68c82.js";import"./index.bf82bf90.js";const L={key:0,class:"backgroundImg"},T={style:{display:"flex","justify-content":"center",width:"100%"}},E=[(a=>(j("data-v-2dd14904"),a=a(),h(),a))((()=>d("span",{class:"enter"}," Enter →",-1)))],D={key:1,style:{margin:"10px 20px"}},N=a({name:"dashboard"}),S=Object.assign(N,{setup(a){const j=e(),h=t(),_=o(),I=s(),N=s({loading:!1,dataList:[]});function S(){0===h.permissions[0]&&_.push({name:"homePageList"})}function q(){j.toggleTopCollapse()}return l((async()=>{j.topStatus||j.toggleTopCollapse(),I.value=0!==(await h.getPermissions())[0],I.value&&(N.value.loading=!0,r.get("/api/log",{params:{offset:0,limit:10,userId:h.account}}).then((a=>{N.value.dataList=[],a.data.quiz_list.forEach(((a,e)=>{let t={id:e+1,logDate:a.log_date.replace("T"," ").split(".")[0],logName:a.userId,logInfo:a.operation};N.value.dataList.push(t)}))})).catch((()=>{N.value.dataList=[]})),N.value.loading=!1,j.toggleTopCollapse())})),i((()=>{j.topStatus&&j.toggleTopCollapse()})),(a,e)=>{const t=C,o=v,s=k,l=w,i=y,r=x;return n(),p("div",null,[I.value?(n(),p("div",D,[g((n(),u(l,{ref:"table",class:"list-table",data:N.value.dataList,border:"",stripe:"","highlight-current-row":""},{default:m((()=>[b(s,{prop:"id",label:"日志编号",width:"150",align:"center"}),b(s,{prop:"logDate",label:"日志日期",width:"200",align:"center"}),b(s,{prop:"logInfo",label:"日志信息",align:"center"}),b(s,{prop:"logName",label:"用户名",width:"200",align:"center",sortable:""})])),_:1},8,["data"])),[[r,N.value.loading]])])):(n(),p("div",L,[d("div",T,[c(j).topStatus?(n(),u(o,{key:0,class:"top-icon-box",onClick:q},{default:m((()=>[b(t,{name:"ep:arrow-down",class:"top-icon"})])),_:1})):(n(),u(o,{key:1,class:"top-icon-box",onClick:q},{default:m((()=>[b(t,{name:"ep:arrow-up",class:"top-icon"})])),_:1}))]),d("button",{class:"button",onClick:S},E)])),b(i,{class:"copyright",style:f({color:I.value?"var(--el-text-color-secondary)":""})},null,8,["style"])])}}});"function"==typeof I&&I(S);var q=_(S,[["__scopeId","data-v-2dd14904"]]);export{q as default};
