var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,a)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,__spreadValues=(e,t)=>{for(var a in t||(t={}))__hasOwnProp.call(t,a)&&__defNormalProp(e,a,t[a]);if(__getOwnPropSymbols)for(var a of __getOwnPropSymbols(t))__propIsEnum.call(t,a)&&__defNormalProp(e,a,t[a]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t));import{N as buildProps,br as keysOf,bs as TypeComponentsMap,k as defineComponent,l as useSlots,m as useNamespace,r as ref,c as computed,o as openBlock,p as createBlock,q as withCtx,v as withDirectives,T as vShow,s as createBaseVNode,y as unref,P as ElIcon,B as normalizeClass,H as resolveDynamicComponent,G as createCommentVNode,z as createElementBlock,C as renderSlot,D as createTextVNode,E as toDisplayString,U as createVNode,F as Fragment,aj as Transition,_ as _export_sfc,bt as TypeComponents,L as withInstall,a9 as definePropType,bu as warning_filled_default,bv as circle_check_default,ax as circle_close_default,bw as check_default,bx as close_default,ac as isFunction,b as isString,I as normalizeStyle,aq as mutable,i as inject,w as watch,n as nextTick,by as capitalize,af as useResizeObserver,j as getCurrentInstance,ay as NOOP,bz as useDocumentVisibility,bA as useWindowFocus,S as onMounted,ae as onUpdated,bB as arrow_left_default,b0 as arrow_right_default,aS as EVENT_CODE,ab as reactive,J as provide,bC as plus_default,d as isNumber,bo as isUndefined,bD as computedEager,al as onUnmounted,M as withNoopInstall,b6 as renderList,Z as withKeys,bE as document_default,$ as withModifiers,bF as zoom_in_default,bG as delete_default,b9 as TransitionGroup,g as isArray,as as shallowRef,bH as entriesOf,bI as useVModel,an as useDisabled,ad as onBeforeUnmount,ak as toRef,aY as createSlots,aw as mergeProps,a1 as ElMessage,Y as useRouter,R as useUserStore,a0 as api,V as pushScopeId,W as popScopeId,bJ as axios}from"./index.48f940ee.js";import{v as vLoading}from"./el-loading.ea6ae1cd.js";import{_ as __unplugin_components_9}from"./index.2c00059e.js";/* empty css                     */import{_ as __unplugin_components_10}from"./index.0e0fe8d6.js";/* empty css                */import{_ as _export_sfc$1,a as _sfc_main$a}from"./index.178d681a.js";import{E as ElCol,a as ElRow}from"./el-col.17ce7fba.js";import{E as ElImage,a as ElImageViewer}from"./el-image-viewer.0bbe0222.js";import{t as throwError,U as UPDATE_MODEL_EVENT,i as isNil,d as debugWarn,E as ElInput}from"./el-input.41045a8b.js";import{u as useLocale}from"./index.c4d7ad7a.js";import{E as ElFormItem,a as ElForm}from"./el-form-item.811364a1.js";import{c as useDeprecated,E as ElButton}from"./el-button.d3031f13.js";import{b as block0}from"./route-block.89f12ae7.js";import{E as ElScrollbar}from"./index.ad6a8099.js";import"./debounce.9102056c.js";import"./index.786a6241.js";import"./scroll.dc71fff6.js";import"./isEqual.c6c571f0.js";const tabsRootContextKey=Symbol("tabsRootContextKey"),uploadContextKey=Symbol("uploadContextKey"),alertEffects=["light","dark"],alertProps=buildProps({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:keysOf(TypeComponentsMap),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:alertEffects,default:"light"}}),alertEmits={close:e=>e instanceof MouseEvent},__default__$9={name:"ElAlert"},_sfc_main$9=defineComponent(__spreadProps(__spreadValues({},__default__$9),{props:alertProps,emits:alertEmits,setup(e,{emit:t}){const a=e,{Close:o}=TypeComponents,s=useSlots(),l=useNamespace("alert"),r=ref(!0),n=computed((()=>TypeComponentsMap[a.type])),i=computed((()=>[l.e("icon"),{[l.is("big")]:!!a.description||!!s.default}])),d=computed((()=>a.description||{[l.is("bold")]:s.default})),c=e=>{r.value=!1,t("close",e)};return(e,t)=>(openBlock(),createBlock(Transition,{name:unref(l).b("fade"),persisted:""},{default:withCtx((()=>[withDirectives(createBaseVNode("div",{class:normalizeClass([unref(l).b(),unref(l).m(e.type),unref(l).is("center",e.center),unref(l).is(e.effect)]),role:"alert"},[e.showIcon&&unref(n)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(i))},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(n))))])),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(l).e("content"))},[e.title||e.$slots.title?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([unref(l).e("title"),unref(d)])},[renderSlot(e.$slots,"title",{},(()=>[createTextVNode(toDisplayString(e.title),1)]))],2)):createCommentVNode("v-if",!0),e.$slots.default||e.description?(openBlock(),createElementBlock("p",{key:1,class:normalizeClass(unref(l).e("description"))},[renderSlot(e.$slots,"default",{},(()=>[createTextVNode(toDisplayString(e.description),1)]))],2)):createCommentVNode("v-if",!0),e.closable?(openBlock(),createElementBlock(Fragment,{key:2},[e.closeText?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(l).e("close-btn"),unref(l).is("customed")]),onClick:c},toDisplayString(e.closeText),3)):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref(l).e("close-btn")),onClick:c},{default:withCtx((()=>[createVNode(unref(o))])),_:1},8,["class"]))],64)):createCommentVNode("v-if",!0)],2)],2),[[vShow,r.value]])])),_:3},8,["name"]))}}));var Alert=_export_sfc(_sfc_main$9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const ElAlert=withInstall(Alert),progressProps=buildProps({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:definePropType(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:definePropType([String,Array,Function]),default:""},format:{type:definePropType(Function),default:e=>`${e}%`}}),_hoisted_1$6=["aria-valuenow"],_hoisted_2$4={viewBox:"0 0 100 100"},_hoisted_3$3=["d","stroke","stroke-width"],_hoisted_4$3=["d","stroke","opacity","stroke-linecap","stroke-width"],_hoisted_5$3={key:0},__default__$8={name:"ElProgress"},_sfc_main$8=defineComponent(__spreadProps(__spreadValues({},__default__$8),{props:progressProps,setup(e){const t=e,a={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},o=useNamespace("progress"),s=computed((()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:v(t.percentage)}))),l=computed((()=>(t.strokeWidth/t.width*100).toFixed(1))),r=computed((()=>["circle","dashboard"].includes(t.type)?Number.parseInt(""+(50-Number.parseFloat(l.value)/2),10):0)),n=computed((()=>{const e=r.value,a="dashboard"===t.type;return`\n          M 50 50\n          m 0 ${a?"":"-"}${e}\n          a ${e} ${e} 0 1 1 0 ${a?"-":""}${2*e}\n          a ${e} ${e} 0 1 1 0 ${a?"":"-"}${2*e}\n          `})),i=computed((()=>2*Math.PI*r.value)),d=computed((()=>"dashboard"===t.type?.75:1)),c=computed((()=>`${-1*i.value*(1-d.value)/2}px`)),u=computed((()=>({strokeDasharray:`${i.value*d.value}px, ${i.value}px`,strokeDashoffset:c.value}))),p=computed((()=>({strokeDasharray:`${i.value*d.value*(t.percentage/100)}px, ${i.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"}))),f=computed((()=>{let e;return e=t.color?v(t.percentage):a[t.status]||a.default,e})),m=computed((()=>"warning"===t.status?warning_filled_default:"line"===t.type?"success"===t.status?circle_check_default:circle_close_default:"success"===t.status?check_default:close_default)),_=computed((()=>"line"===t.type?12+.4*t.strokeWidth:.111111*t.width+2)),h=computed((()=>t.format(t.percentage)));const v=e=>{var a;const{color:o}=t;if(isFunction(o))return o(e);if(isString(o))return o;{const t=function(e){const t=100/e.length;return e.map(((e,a)=>isString(e)?{color:e,percentage:(a+1)*t}:e)).sort(((e,t)=>e.percentage-t.percentage))}(o);for(const a of t)if(a.percentage>e)return a.color;return null==(a=t[t.length-1])?void 0:a.color}};return(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(o).b(),unref(o).m(e.type),unref(o).is(e.status),{[unref(o).m("without-text")]:!e.showText,[unref(o).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},["line"===e.type?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(o).b("bar"))},[createBaseVNode("div",{class:normalizeClass(unref(o).be("bar","outer")),style:normalizeStyle({height:`${e.strokeWidth}px`})},[createBaseVNode("div",{class:normalizeClass([unref(o).be("bar","inner"),{[unref(o).bem("bar","inner","indeterminate")]:e.indeterminate}]),style:normalizeStyle(unref(s))},[(e.showText||e.$slots.default)&&e.textInside?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(o).be("bar","innerText"))},[renderSlot(e.$slots,"default",{percentage:e.percentage},(()=>[createBaseVNode("span",null,toDisplayString(unref(h)),1)]))],2)):createCommentVNode("v-if",!0)],6)],6)],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(o).b("circle")),style:normalizeStyle({height:`${e.width}px`,width:`${e.width}px`})},[(openBlock(),createElementBlock("svg",_hoisted_2$4,[createBaseVNode("path",{class:normalizeClass(unref(o).be("circle","track")),d:unref(n),stroke:`var(${unref(o).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":unref(l),fill:"none",style:normalizeStyle(unref(u))},null,14,_hoisted_3$3),createBaseVNode("path",{class:normalizeClass(unref(o).be("circle","path")),d:unref(n),stroke:unref(f),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":unref(l),style:normalizeStyle(unref(p))},null,14,_hoisted_4$3)]))],6)),!e.showText&&!e.$slots.default||e.textInside?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(o).e("text")),style:normalizeStyle({fontSize:`${unref(_)}px`})},[renderSlot(e.$slots,"default",{percentage:e.percentage},(()=>[e.status?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx((()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(m))))])),_:1})):(openBlock(),createElementBlock("span",_hoisted_5$3,toDisplayString(unref(h)),1))]))],6))],10,_hoisted_1$6))}}));var Progress=_export_sfc(_sfc_main$8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const ElProgress=withInstall(Progress),tabBarProps=buildProps({tabs:{type:definePropType(Array),default:()=>mutable([])}}),__default__$7={name:"ElTabBar"},_sfc_main$7=defineComponent(__spreadProps(__spreadValues({},__default__$7),{props:tabBarProps,setup(e,{expose:t}){const a=e,o=getCurrentInstance(),s=inject(tabsRootContextKey);s||throwError("ElTabBar","<el-tabs><el-tab-bar /></el-tabs>");const l=useNamespace("tabs"),r=ref(),n=ref(),i=()=>n.value=(()=>{let e=0,t=0;const l=["top","bottom"].includes(s.props.tabPosition)?"width":"height",r="width"===l?"x":"y";return a.tabs.every((s=>{var n,i,d,c;const u=null==(i=null==(n=o.parent)?void 0:n.refs)?void 0:i[`tab-${s.paneName}`];if(!u)return!1;if(!s.active)return!0;t=u[`client${capitalize(l)}`];const p="x"===r?"left":"top";e=u.getBoundingClientRect()[p]-(null!=(c=null==(d=u.parentElement)?void 0:d.getBoundingClientRect()[p])?c:0);const f=window.getComputedStyle(u);return"width"===l&&(a.tabs.length>1&&(t-=Number.parseFloat(f.paddingLeft)+Number.parseFloat(f.paddingRight)),e+=Number.parseFloat(f.paddingLeft)),!1})),{[l]:`${t}px`,transform:`translate${capitalize(r)}(${e}px)`}})();return watch((()=>a.tabs),(async()=>{await nextTick(),i()}),{immediate:!0}),useResizeObserver(r,(()=>i())),t({ref:r,update:i}),(e,t)=>(openBlock(),createElementBlock("div",{ref_key:"barRef",ref:r,class:normalizeClass([unref(l).e("active-bar"),unref(l).is(unref(s).props.tabPosition)]),style:normalizeStyle(n.value)},null,6))}}));var TabBar=_export_sfc(_sfc_main$7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const tabNavProps=buildProps({panes:{type:definePropType(Array),default:()=>mutable([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:definePropType(Function),default:NOOP},onTabRemove:{type:definePropType(Function),default:NOOP},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),COMPONENT_NAME="ElTabNav",TabNav=defineComponent({name:COMPONENT_NAME,props:tabNavProps,setup(e,{expose:t}){const a=getCurrentInstance(),o=inject(tabsRootContextKey);o||throwError(COMPONENT_NAME,"<el-tabs><tab-nav /></el-tabs>");const s=useNamespace("tabs"),l=useDocumentVisibility(),r=useWindowFocus(),n=ref(),i=ref(),d=ref(),c=ref(!1),u=ref(0),p=ref(!1),f=ref(!0),m=computed((()=>["top","bottom"].includes(o.props.tabPosition)?"width":"height")),_=computed((()=>({transform:`translate${"width"===m.value?"X":"Y"}(-${u.value}px)`}))),h=()=>{if(!n.value)return;const e=n.value[`offset${capitalize(m.value)}`],t=u.value;if(!t)return;const a=t>e?t-e:0;u.value=a},v=()=>{if(!n.value||!i.value)return;const e=i.value[`offset${capitalize(m.value)}`],t=n.value[`offset${capitalize(m.value)}`],a=u.value;if(e-a<=t)return;const o=e-a>2*t?a+t:e-t;u.value=o},y=async()=>{const e=i.value;if(!(c.value&&d.value&&n.value&&e))return;await nextTick();const t=d.value.querySelector(".is-active");if(!t)return;const a=n.value,s=["top","bottom"].includes(o.props.tabPosition),l=t.getBoundingClientRect(),r=a.getBoundingClientRect(),p=s?e.offsetWidth-r.width:e.offsetHeight-r.height,f=u.value;let m=f;s?(l.left<r.left&&(m=f-(r.left-l.left)),l.right>r.right&&(m=f+l.right-r.right)):(l.top<r.top&&(m=f-(r.top-l.top)),l.bottom>r.bottom&&(m=f+(l.bottom-r.bottom))),m=Math.max(m,0),u.value=Math.min(m,p)},b=()=>{if(!i.value||!n.value)return;const e=i.value[`offset${capitalize(m.value)}`],t=n.value[`offset${capitalize(m.value)}`],a=u.value;if(t<e){const a=u.value;c.value=c.value||{},c.value.prev=a,c.value.next=a+t<e,e-a<t&&(u.value=e-t)}else c.value=!1,a>0&&(u.value=0)},g=e=>{const t=e.code,{up:a,down:o,left:s,right:l}=EVENT_CODE;if(![a,o,s,l].includes(t))return;const r=Array.from(e.currentTarget.querySelectorAll("[role=tab]")),n=r.indexOf(e.target);let i;i=t===s||t===a?0===n?r.length-1:n-1:n<r.length-1?n+1:0,r[i].focus(),r[i].click(),w()},w=()=>{f.value&&(p.value=!0)},k=()=>p.value=!1;return watch(l,(e=>{"hidden"===e?f.value=!1:"visible"===e&&setTimeout((()=>f.value=!0),50)})),watch(r,(e=>{e?setTimeout((()=>f.value=!0),50):f.value=!1})),useResizeObserver(d,b),onMounted((()=>setTimeout((()=>y()),0))),onUpdated((()=>b())),t({scrollToActiveTab:y,removeFocus:k}),watch((()=>e.panes),(()=>a.update()),{flush:"post"}),()=>{const t=c.value?[createVNode("span",{class:[s.e("nav-prev"),s.is("disabled",!c.value.prev)],onClick:h},[createVNode(ElIcon,null,{default:()=>[createVNode(arrow_left_default,null,null)]})]),createVNode("span",{class:[s.e("nav-next"),s.is("disabled",!c.value.next)],onClick:v},[createVNode(ElIcon,null,{default:()=>[createVNode(arrow_right_default,null,null)]})])]:null,a=e.panes.map(((t,a)=>{var l,r,n,i;const d=null!=(r=null!=(l=t.props.name)?l:t.index)?r:`${a}`,c=t.isClosable||e.editable;t.index=`${a}`;const u=c?createVNode(ElIcon,{class:"is-icon-close",onClick:a=>e.onTabRemove(t,a)},{default:()=>[createVNode(close_default,null,null)]}):null,f=(null==(i=(n=t.slots).label)?void 0:i.call(n))||t.props.label,m=t.active?0:-1;return createVNode("div",{ref:`tab-${d}`,class:[s.e("item"),s.is(o.props.tabPosition),s.is("active",t.active),s.is("disabled",t.props.disabled),s.is("closable",c),s.is("focus",p.value)],id:`tab-${d}`,key:`tab-${d}`,"aria-controls":`pane-${d}`,role:"tab","aria-selected":t.active,tabindex:m,onFocus:()=>w(),onBlur:()=>k(),onClick:a=>{k(),e.onTabClick(t,d,a)},onKeydown:a=>{!c||a.code!==EVENT_CODE.delete&&a.code!==EVENT_CODE.backspace||e.onTabRemove(t,a)}},[f,u])}));return createVNode("div",{ref:d,class:[s.e("nav-wrap"),s.is("scrollable",!!c.value),s.is(o.props.tabPosition)]},[t,createVNode("div",{class:s.e("nav-scroll"),ref:n},[createVNode("div",{class:[s.e("nav"),s.is(o.props.tabPosition),s.is("stretch",e.stretch&&["top","bottom"].includes(o.props.tabPosition))],ref:i,style:_.value,role:"tablist",onKeydown:g},[e.type?null:createVNode(TabBar,{tabs:[...e.panes]},null),a])])])}}}),tabsProps=buildProps({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:definePropType(Function),default:()=>!0},stretch:Boolean}),isPanelName=e=>isString(e)||isNumber(e),tabsEmits={[UPDATE_MODEL_EVENT]:e=>isPanelName(e),"tab-click":(e,t)=>t instanceof Event,"tab-change":e=>isPanelName(e),edit:(e,t)=>["remove","add"].includes(t),"tab-remove":e=>isPanelName(e),"tab-add":()=>!0};var Tabs=defineComponent({name:"ElTabs",props:tabsProps,emits:tabsEmits,setup(e,{emit:t,slots:a,expose:o}){var s,l;const r=useNamespace("tabs"),n=ref(),i=reactive({}),d=ref(null!=(l=null!=(s=e.modelValue)?s:e.activeName)?l:"0"),c=async a=>{var o,s,l;if(d.value!==a&&!isUndefined(a))try{!1!==await(null==(o=e.beforeLeave)?void 0:o.call(e,a,d.value))&&((e=>{d.value=e,t(UPDATE_MODEL_EVENT,e),t("tab-change",e)})(a),null==(l=null==(s=n.value)?void 0:s.removeFocus)||l.call(s))}catch(r){}},u=(e,a,o)=>{e.props.disabled||(c(a),t("tab-click",e,o))},p=(e,a)=>{e.props.disabled||isUndefined(e.props.name)||(a.stopPropagation(),t("edit",e.props.name,"remove"),t("tab-remove",e.props.name))},f=()=>{t("edit",void 0,"add"),t("tab-add")};useDeprecated({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},computed((()=>!!e.activeName))),watch((()=>e.activeName),(e=>c(e))),watch((()=>e.modelValue),(e=>c(e))),watch(d,(async()=>{var e;await nextTick(),null==(e=n.value)||e.scrollToActiveTab()}));provide(tabsRootContextKey,{props:e,currentName:d,registerPane:e=>i[e.uid]=e,unregisterPane:e=>delete i[e]});return o({currentName:d}),()=>{const t=e.editable||e.addable?createVNode("span",{class:r.e("new-tab"),tabindex:"0",onClick:f,onKeydown:e=>{e.code===EVENT_CODE.enter&&f()}},[createVNode(ElIcon,{class:r.is("icon-plus")},{default:()=>[createVNode(plus_default,null,null)]})]):null,o=createVNode("div",{class:[r.e("header"),r.is(e.tabPosition)]},[t,createVNode(TabNav,{ref:n,currentName:d.value,editable:e.editable,type:e.type,panes:Object.values(i),stretch:e.stretch,onTabClick:u,onTabRemove:p},null)]),s=createVNode("div",{class:r.e("content")},[renderSlot(a,"default")]);return createVNode("div",{class:[r.b(),r.m(e.tabPosition),{[r.m("card")]:"card"===e.type,[r.m("border-card")]:"border-card"===e.type}]},[..."bottom"!==e.tabPosition?[o,s]:[s,o]])}}});const tabPaneProps=buildProps({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),_hoisted_1$5=["id","aria-hidden","aria-labelledby"],__default__$6={name:"ElTabPane"},_sfc_main$6=defineComponent(__spreadProps(__spreadValues({},__default__$6),{props:tabPaneProps,setup(e){const t=e,a=getCurrentInstance(),o=useSlots(),s=inject(tabsRootContextKey);s||throwError("ElTabPane","usage: <el-tabs><el-tab-pane /></el-tabs/>");const l=useNamespace("tab-pane"),r=ref(),n=computed((()=>t.closable||s.props.closable)),i=computedEager((()=>{var e;return s.currentName.value===(null!=(e=t.name)?e:r.value)})),d=ref(i.value),c=computed((()=>{var e;return null!=(e=t.name)?e:r.value})),u=computedEager((()=>!t.lazy||d.value||i.value));watch(i,(e=>{e&&(d.value=!0)}));const p=reactive({uid:a.uid,slots:o,props:t,paneName:c,active:i,index:r,isClosable:n});return onMounted((()=>{s.registerPane(p)})),onUnmounted((()=>{s.unregisterPane(p.uid)})),(e,t)=>unref(u)?withDirectives((openBlock(),createElementBlock("div",{key:0,id:`pane-${unref(c)}`,class:normalizeClass(unref(l).b()),role:"tabpanel","aria-hidden":!unref(i),"aria-labelledby":`tab-${unref(c)}`},[renderSlot(e.$slots,"default")],10,_hoisted_1$5)),[[vShow,unref(i)]]):createCommentVNode("v-if",!0)}}));var TabPane=_export_sfc(_sfc_main$6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const ElTabs=withInstall(Tabs,{TabPane:TabPane}),ElTabPane=withNoopInstall(TabPane),SCOPE$1="ElUpload";class UploadAjaxError extends Error{constructor(e,t,a,o){super(e),this.name="UploadAjaxError",this.status=t,this.method=a,this.url=o}}function getError(e,t,a){let o;return o=a.response?`${a.response.error||a.response}`:a.responseText?`${a.responseText}`:`fail to ${t.method} ${e} ${a.status}`,new UploadAjaxError(o,a.status,t.method,e)}function getBody(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(a){return t}}const ajaxUpload=e=>{"undefined"==typeof XMLHttpRequest&&throwError(SCOPE$1,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,a=e.action;t.upload&&t.upload.addEventListener("progress",(t=>{const a=t;a.percent=t.total>0?t.loaded/t.total*100:0,e.onProgress(a)}));const o=new FormData;if(e.data)for(const[l,r]of Object.entries(e.data))Array.isArray(r)?o.append(l,...r):o.append(l,r);o.append(e.filename,e.file,e.file.name),t.addEventListener("error",(()=>{e.onError(getError(a,e,t))})),t.addEventListener("load",(()=>{if(t.status<200||t.status>=300)return e.onError(getError(a,e,t));e.onSuccess(getBody(t))})),t.open(e.method,a,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const s=e.headers||{};if(s instanceof Headers)s.forEach(((e,a)=>t.setRequestHeader(a,e)));else for(const[l,r]of Object.entries(s))isNil(r)||t.setRequestHeader(l,String(r));return t.send(o),t},uploadListTypes=["text","picture","picture-card"];let fileId=1;const genFileId=()=>Date.now()+fileId++,uploadBaseProps=buildProps({action:{type:String,default:"#"},headers:{type:definePropType(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>mutable({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:definePropType(Array),default:()=>mutable([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:uploadListTypes,default:"text"},httpRequest:{type:definePropType(Function),default:ajaxUpload},disabled:Boolean,limit:Number}),uploadProps=buildProps(__spreadProps(__spreadValues({},uploadBaseProps),{beforeUpload:{type:definePropType(Function),default:NOOP},beforeRemove:{type:definePropType(Function)},onRemove:{type:definePropType(Function),default:NOOP},onChange:{type:definePropType(Function),default:NOOP},onPreview:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP}})),uploadListProps=buildProps({files:{type:definePropType(Array),default:()=>mutable([])},disabled:{type:Boolean,default:!1},handlePreview:{type:definePropType(Function),default:NOOP},listType:{type:String,values:uploadListTypes,default:"text"}}),uploadListEmits={remove:e=>!!e},_hoisted_1$4=["onKeydown"],_hoisted_2$3=["src"],_hoisted_3$2=["onClick"],_hoisted_4$2=["onClick"],_hoisted_5$2=["onClick"],__default__$5={name:"ElUploadList"},_sfc_main$5=defineComponent(__spreadProps(__spreadValues({},__default__$5),{props:uploadListProps,emits:uploadListEmits,setup(e,{emit:t}){const a=e,{t:o}=useLocale(),s=useNamespace("upload"),l=useNamespace("icon"),r=useNamespace("list"),n=ref(!1),i=e=>{t("remove",e)};return(e,t)=>(openBlock(),createBlock(TransitionGroup,{tag:"ul",class:normalizeClass([unref(s).b("list"),unref(s).bm("list",e.listType),unref(s).is("disabled",e.disabled)]),name:unref(r).b()},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.files,(r=>(openBlock(),createElementBlock("li",{key:r.uid||r.name,class:normalizeClass([unref(s).be("list","item"),unref(s).is(r.status),{focusing:n.value}]),tabindex:"0",onKeydown:withKeys((t=>!e.disabled&&i(r)),["delete"]),onFocus:t[0]||(t[0]=e=>n.value=!0),onBlur:t[1]||(t[1]=e=>n.value=!1),onClick:t[2]||(t[2]=e=>n.value=!1)},[renderSlot(e.$slots,"default",{file:r},(()=>["picture"===e.listType||"uploading"!==r.status&&"picture-card"===e.listType?(openBlock(),createElementBlock("img",{key:0,class:normalizeClass(unref(s).be("list","item-thumbnail")),src:r.url,alt:""},null,10,_hoisted_2$3)):createCommentVNode("v-if",!0),"picture"===e.listType||"uploading"!==r.status&&"picture-card"===e.listType?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(s).be("list","item-info"))},[createBaseVNode("a",{class:normalizeClass(unref(s).be("list","item-name")),onClick:withModifiers((e=>(e=>{a.handlePreview(e)})(r)),["prevent"])},[createVNode(unref(ElIcon),{class:normalizeClass(unref(l).m("document"))},{default:withCtx((()=>[createVNode(unref(document_default))])),_:1},8,["class"]),createBaseVNode("span",{class:normalizeClass(unref(s).be("list","item-file-name"))},toDisplayString(r.name),3)],10,_hoisted_3$2),"uploading"===r.status?(openBlock(),createBlock(unref(ElProgress),{key:0,type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:Number(r.percentage),style:normalizeStyle("picture-card"===e.listType?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):createCommentVNode("v-if",!0)],2)),createBaseVNode("label",{class:normalizeClass(unref(s).be("list","item-status-label"))},["text"===e.listType?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(l).m("upload-success"),unref(l).m("circle-check")])},{default:withCtx((()=>[createVNode(unref(circle_check_default))])),_:1},8,["class"])):["picture-card","picture"].includes(e.listType)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(l).m("upload-success"),unref(l).m("check")])},{default:withCtx((()=>[createVNode(unref(check_default))])),_:1},8,["class"])):createCommentVNode("v-if",!0)],2),e.disabled?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(l).m("close")),onClick:e=>i(r)},{default:withCtx((()=>[createVNode(unref(close_default))])),_:2},1032,["class","onClick"])),createCommentVNode(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),createCommentVNode(" This is a bug which needs to be fixed "),createCommentVNode(" TODO: Fix the incorrect navigation interaction "),e.disabled?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("i",{key:3,class:normalizeClass(unref(l).m("close-tip"))},toDisplayString(unref(o)("el.upload.deleteTip")),3)),"picture-card"===e.listType?(openBlock(),createElementBlock("span",{key:4,class:normalizeClass(unref(s).be("list","item-actions"))},[createBaseVNode("span",{class:normalizeClass(unref(s).be("list","item-preview")),onClick:t=>e.handlePreview(r)},[createVNode(unref(ElIcon),{class:normalizeClass(unref(l).m("zoom-in"))},{default:withCtx((()=>[createVNode(unref(zoom_in_default))])),_:1},8,["class"])],10,_hoisted_4$2),e.disabled?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(s).be("list","item-delete")),onClick:e=>i(r)},[createVNode(unref(ElIcon),{class:normalizeClass(unref(l).m("delete"))},{default:withCtx((()=>[createVNode(unref(delete_default))])),_:1},8,["class"])],10,_hoisted_5$2))],2)):createCommentVNode("v-if",!0)]))],42,_hoisted_1$4)))),128)),renderSlot(e.$slots,"append")])),_:3},8,["class","name"]))}}));var UploadList=_export_sfc(_sfc_main$5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const uploadDraggerProps=buildProps({disabled:{type:Boolean,default:!1}}),uploadDraggerEmits={file:e=>isArray(e)},_hoisted_1$3=["onDrop","onDragover"],__default__$4={name:"ElUploadDrag"},_sfc_main$4=defineComponent(__spreadProps(__spreadValues({},__default__$4),{props:uploadDraggerProps,emits:uploadDraggerEmits,setup(e,{emit:t}){const a=e,o=inject(uploadContextKey);o||throwError("ElUploadDrag","usage: <el-upload><el-upload-dragger /></el-upload>");const s=useNamespace("upload"),l=ref(!1),r=e=>{if(a.disabled)return;l.value=!1;const s=Array.from(e.dataTransfer.files),r=o.accept.value;if(!r)return void t("file",s);const n=s.filter((e=>{const{type:t,name:a}=e,o=a.includes(".")?`.${a.split(".").pop()}`:"",s=t.replace(/\/.*$/,"");return r.split(",").map((e=>e.trim())).filter((e=>e)).some((e=>e.startsWith(".")?o===e:/\/\*$/.test(e)?s===e.replace(/\/\*$/,""):!!/^[^/]+\/[^/]+$/.test(e)&&t===e))}));t("file",n)},n=()=>{a.disabled||(l.value=!0)};return(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(s).b("dragger"),unref(s).is("dragover",l.value)]),onDrop:withModifiers(r,["prevent"]),onDragover:withModifiers(n,["prevent"]),onDragleave:t[0]||(t[0]=withModifiers((e=>l.value=!1),["prevent"]))},[renderSlot(e.$slots,"default")],42,_hoisted_1$3))}}));var UploadDragger=_export_sfc(_sfc_main$4,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const uploadContentProps=buildProps(__spreadProps(__spreadValues({},uploadBaseProps),{beforeUpload:{type:definePropType(Function),default:NOOP},onRemove:{type:definePropType(Function),default:NOOP},onStart:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP}})),_hoisted_1$2=["onKeydown"],_hoisted_2$2=["name","multiple","accept"],__default__$3={name:"ElUploadContent",inheritAttrs:!1},_sfc_main$3=defineComponent(__spreadProps(__spreadValues({},__default__$3),{props:uploadContentProps,setup(e,{expose:t}){const a=e,o=useNamespace("upload"),s=shallowRef({}),l=shallowRef(),r=e=>{if(0===e.length)return;const{autoUpload:t,limit:o,fileList:s,multiple:l,onStart:r,onExceed:i}=a;if(o&&s.length+e.length>o)i(e,s);else{l||(e=e.slice(0,1));for(const a of e){const e=a;e.uid=genFileId(),r(e),t&&n(e)}}},n=async e=>{if(l.value.value="",!a.beforeUpload)return i(e);let t;try{t=await a.beforeUpload(e)}catch(s){t=!1}if(!1===t)return void a.onRemove(e);let o=e;t instanceof Blob&&(o=t instanceof File?t:new File([t],e.name,{type:e.type})),i(Object.assign(o,{uid:e.uid}))},i=e=>{const{headers:t,data:o,method:l,withCredentials:r,name:n,action:i,onProgress:d,onSuccess:c,onError:u,httpRequest:p}=a,{uid:f}=e,m={headers:t||{},withCredentials:r,file:e,data:o,method:l,filename:n,action:i,onProgress:t=>{d(t,e)},onSuccess:t=>{c(t,e),delete s.value[f]},onError:t=>{u(t,e),delete s.value[f]}},_=p(m);s.value[f]=_,_ instanceof Promise&&_.then(m.onSuccess,m.onError)},d=e=>{const t=e.target.files;t&&r(Array.from(t))},c=()=>{a.disabled||(l.value.value="",l.value.click())},u=()=>{c()};return t({abort:e=>{entriesOf(s.value).filter(e?([t])=>String(e.uid)===t:()=>!0).forEach((([e,t])=>{t instanceof XMLHttpRequest&&t.abort(),delete s.value[e]}))},upload:n}),(e,t)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(o).b(),unref(o).m(e.listType),unref(o).is("drag",e.drag)]),tabindex:"0",onClick:c,onKeydown:withKeys(withModifiers(u,["self"]),["enter","space"])},[e.drag?(openBlock(),createBlock(UploadDragger,{key:0,disabled:e.disabled,onFile:r},{default:withCtx((()=>[renderSlot(e.$slots,"default")])),_:3},8,["disabled"])):renderSlot(e.$slots,"default",{key:1}),createBaseVNode("input",{ref_key:"inputRef",ref:l,class:normalizeClass(unref(o).e("input")),name:e.name,multiple:e.multiple,accept:e.accept,type:"file",onChange:d,onClick:t[0]||(t[0]=withModifiers((()=>{}),["stop"]))},null,42,_hoisted_2$2)],42,_hoisted_1$2))}}));var UploadContent=_export_sfc(_sfc_main$3,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const SCOPE="ElUpload",revokeObjectURL=e=>{var t;(null==(t=e.url)?void 0:t.startsWith("blob:"))&&URL.revokeObjectURL(e.url)},useHandlers=(e,t)=>{const a=useVModel(e,"fileList",void 0,{passive:!0}),o=e=>a.value.find((t=>t.uid===e.uid));function s(e){var a;null==(a=t.value)||a.abort(e)}return watch((()=>e.listType),(t=>{"picture-card"!==t&&"picture"!==t||(a.value=a.value.map((t=>{const{raw:o,url:s}=t;if(!s&&o)try{t.url=URL.createObjectURL(o)}catch(l){e.onError(l,t,a.value)}return t})))})),watch(a,(e=>{for(const t of e)t.uid||(t.uid=genFileId()),t.status||(t.status="success")}),{immediate:!0,deep:!0}),{uploadFiles:a,abort:s,clearFiles:function(e=["ready","uploading","success","fail"]){a.value=a.value.filter((t=>!e.includes(t.status)))},handleError:(t,s)=>{const l=o(s);l&&(l.status="fail",a.value.splice(a.value.indexOf(l),1),e.onError(t,l,a.value),e.onChange(l,a.value))},handleProgress:(t,s)=>{const l=o(s);l&&(e.onProgress(t,l,a.value),l.status="uploading",l.percentage=Math.round(t.percent))},handleStart:t=>{const o={name:t.name,percentage:0,status:"ready",size:t.size,raw:t,uid:t.uid};if("picture-card"===e.listType||"picture"===e.listType)try{o.url=URL.createObjectURL(t)}catch(s){debugWarn(SCOPE,s.message),e.onError(s,o,a.value)}a.value.push(o),e.onChange(o,a.value)},handleSuccess:(t,s)=>{const l=o(s);l&&(l.status="success",l.response=t,e.onSuccess(t,l,a.value),e.onChange(l,a.value))},handleRemove:async t=>{const l=t instanceof File?o(t):t;l||throwError(SCOPE,"file to be removed not found");const r=t=>{s(t);const o=a.value;o.splice(o.indexOf(t),1),e.onRemove(t,o),revokeObjectURL(t)};if(e.beforeRemove){!1!==await e.beforeRemove(l,a.value)&&r(l)}else r(l)},submit:function(){a.value.filter((({status:e})=>"ready"===e)).forEach((({raw:e})=>{var a;return e&&(null==(a=t.value)?void 0:a.upload(e))}))}}},__default__$2={name:"ElUpload"},_sfc_main$2=defineComponent(__spreadProps(__spreadValues({},__default__$2),{props:uploadProps,setup(e,{expose:t}){const a=e,o=useSlots(),s=useDisabled(),l=shallowRef(),{abort:r,submit:n,clearFiles:i,uploadFiles:d,handleStart:c,handleError:u,handleRemove:p,handleSuccess:f,handleProgress:m}=useHandlers(a,l),_=computed((()=>"picture-card"===a.listType)),h=computed((()=>__spreadProps(__spreadValues({},a),{onStart:c,onProgress:m,onSuccess:f,onError:u,onRemove:p})));return onBeforeUnmount((()=>{d.value.forEach((({url:e})=>{(null==e?void 0:e.startsWith("blob:"))&&URL.revokeObjectURL(e)}))})),provide(uploadContextKey,{accept:toRef(a,"accept")}),t({abort:r,submit:n,clearFiles:i,handleStart:c,handleRemove:p}),(e,t)=>(openBlock(),createElementBlock("div",null,[unref(_)&&e.showFileList?(openBlock(),createBlock(UploadList,{key:0,disabled:unref(s),"list-type":e.listType,files:unref(d),"handle-preview":e.onPreview,onRemove:unref(p)},createSlots({append:withCtx((()=>["picture-card"===e.listType?(openBlock(),createBlock(UploadContent,mergeProps({key:0,ref_key:"uploadRef",ref:l},unref(h)),{default:withCtx((()=>[unref(o).trigger?renderSlot(e.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!unref(o).trigger&&unref(o).default?renderSlot(e.$slots,"default",{key:1}):createCommentVNode("v-if",!0)])),_:3},16)):createCommentVNode("v-if",!0)])),_:2},[e.$slots.file?{name:"default",fn:withCtx((({file:t})=>[renderSlot(e.$slots,"file",{file:t})]))}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):createCommentVNode("v-if",!0),"picture-card"!==e.listType?(openBlock(),createBlock(UploadContent,mergeProps({key:1,ref_key:"uploadRef",ref:l},unref(h)),{default:withCtx((()=>[unref(o).trigger?renderSlot(e.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!unref(o).trigger&&unref(o).default?renderSlot(e.$slots,"default",{key:1}):createCommentVNode("v-if",!0)])),_:3},16)):createCommentVNode("v-if",!0),e.$slots.trigger?renderSlot(e.$slots,"default",{key:2}):createCommentVNode("v-if",!0),renderSlot(e.$slots,"tip"),!unref(_)&&e.showFileList?(openBlock(),createBlock(UploadList,{key:3,disabled:unref(s),"list-type":e.listType,files:unref(d),"handle-preview":e.onPreview,onRemove:unref(p)},createSlots({_:2},[e.$slots.file?{name:"default",fn:withCtx((({file:t})=>[renderSlot(e.$slots,"file",{file:t})]))}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):createCommentVNode("v-if",!0)]))}}));var Upload=_export_sfc(_sfc_main$2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const ElUpload=withInstall(Upload);var elTabs="",elTabPane="",elAlert="",elUpload="",elProgress="",index_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$1={class:"upload-container"},_hoisted_2$1={key:1,class:"image"},_hoisted_3$1={class:"mask"},_hoisted_4$1={class:"actions"},_hoisted_5$1=["onClick"],_hoisted_6$1=["onClick"],_hoisted_7$1={key:0,class:"el-upload__tip"},_hoisted_8$1={style:{display:"inline-block"}},__default__$1=defineComponent({name:"ImageUpload"}),_sfc_main$1=Object.assign(__default__$1,{props:{action:{type:String,required:!0},headers:{type:Object,default:()=>{}},data:{type:Object,default:()=>{}},name:{type:String,default:"file"},url:{type:String,default:""},size:{type:Number,default:2},width:{type:Number,default:150},height:{type:Number,default:150},placeholder:{type:String,default:""},notip:{type:Boolean,default:!1},ext:{type:Array,default:()=>["jpg","png","gif","bmp"]}},emits:["update:url","on-success","on-request"],setup(e,{emit:t}){const a=e,o=ref({imageViewerVisible:!1,progress:{preview:"",percent:0}});function s(){o.value.imageViewerVisible=!0}function l(){o.value.imageViewerVisible=!1}function r(){t("update:url","")}function n(e){const t=e.name.split("."),s=t[t.length-1],l=a.ext.indexOf(s)>=0,r=e.size/1024/1024<a.size;return l||ElMessage.error(`上传图片只支持 ${a.ext.join(" / ")} 格式！`),r||ElMessage.error(`上传图片大小不能超过 ${a.size}MB！`),l&&r&&(o.value.progress.preview=URL.createObjectURL(e)),l&&r}function i(e){o.value.progress.percent=~~e.percent}function d(e){o.value.progress.preview="",o.value.progress.percent=0,t("on-success",e)}function c(e){t("on-request",e)}return(t,a)=>{const u=_sfc_main$a,p=ElIcon,f=ElImage,m=ElProgress,_=ElUpload,h=ElAlert,v=ElImageViewer;return openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(_,{"show-file-list":!1,headers:e.headers,action:e.action,data:e.data,name:e.name,"before-upload":n,"on-progress":i,"on-success":d,"http-request":c,drag:"",class:"image-upload"},{default:withCtx((()=>[""===e.url?(openBlock(),createBlock(f,{key:0,src:""===e.url?e.placeholder:e.url,style:normalizeStyle(`width:${e.width}px;height:${e.height}px;`),fit:"cover"},{error:withCtx((()=>[createBaseVNode("div",{class:"image-slot",style:normalizeStyle(`width:${e.width}px;height:${e.height}px;`)},[createVNode(p,null,{default:withCtx((()=>[createVNode(u,{name:"ep:plus"})])),_:1})],4)])),_:1},8,["src","style"])):(openBlock(),createElementBlock("div",_hoisted_2$1,[createVNode(f,{src:e.url,style:normalizeStyle(`width:${e.width}px;height:${e.height}px;`),fit:"cover"},null,8,["src","style"]),createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,[createBaseVNode("span",{title:"预览",onClick:withModifiers(s,["stop"])},[createVNode(p,null,{default:withCtx((()=>[createVNode(u,{name:"ep:zoom-in"})])),_:1})],8,_hoisted_5$1),createBaseVNode("span",{title:"移除",onClick:withModifiers(r,["stop"])},[createVNode(p,null,{default:withCtx((()=>[createVNode(u,{name:"ep:delete"})])),_:1})],8,_hoisted_6$1)])])])),withDirectives(createBaseVNode("div",{class:"progress",style:normalizeStyle(`width:${e.width}px;height:${e.height}px;`)},[createVNode(f,{src:o.value.progress.preview,style:normalizeStyle(`width:${e.width}px;height:${e.height}px;`),fit:"fill"},null,8,["src","style"]),createVNode(m,{type:"circle",width:.8*Math.min(e.width,e.height),percentage:o.value.progress.percent},null,8,["width","percentage"])],4),[[vShow,""===e.url&&o.value.progress.percent]])])),_:1},8,["headers","action","data","name"]),e.notip?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_7$1,[createBaseVNode("div",_hoisted_8$1,[createVNode(h,{title:`上传图片支持 ${e.ext.join(" / ")} 格式，且图片大小不超过 ${e.size}MB，建议图片尺寸为 ${e.width}*${e.height}`,type:"info","show-icon":"",closable:!1},null,8,["title"])])])),o.value.imageViewerVisible?(openBlock(),createBlock(v,{key:1,"url-list":[e.url],onClose:l},null,8,["url-list"])):createCommentVNode("",!0)])}}});var __unplugin_components_5=_export_sfc$1(_sfc_main$1,[["__scopeId","data-v-8a06b578"]]),setting_vue_vue_type_style_index_0_scoped_true_lang="";const _withScopeId=e=>(pushScopeId("data-v-f04428b8"),e=e(),popScopeId(),e),_hoisted_1=_withScopeId((()=>createBaseVNode("h2",null,"基本设置",-1))),_hoisted_2=createTextVNode("保存"),_hoisted_3={class:"content-box"},_hoisted_4={style:{display:"flex","justify-content":"space-between","align-items":"center"}},_hoisted_5=["onClick"],_hoisted_6=["onClick"],_hoisted_7=_withScopeId((()=>createBaseVNode("span",{style:{"font-size":"15px"}},"收起",-1))),_hoisted_8=["onClick"],_hoisted_9={key:0,class:"detail"},_hoisted_10={key:2,class:"tail"},_hoisted_11=_withScopeId((()=>createBaseVNode("span",null,"阅读全文",-1))),_hoisted_12={class:"foot-box"},_hoisted_13=createTextVNode("删除"),_hoisted_14={class:"content-box"},_hoisted_15=["onClick"],_hoisted_16={class:"foot-box"},_hoisted_17=createTextVNode("删除"),_hoisted_18={class:"content-box"},_hoisted_19=["onClick"],_hoisted_20={class:"foot-box"},_hoisted_21=createTextVNode("删除"),_hoisted_22=_withScopeId((()=>createBaseVNode("h2",null,"安全设置",-1))),_hoisted_23={class:"setting-list"},_hoisted_24={class:"item"},_hoisted_25=_withScopeId((()=>createBaseVNode("div",{class:"content"},[createBaseVNode("div",{class:"title"},"账户密码")],-1))),_hoisted_26={class:"action"},_hoisted_27=createTextVNode("修改"),_hoisted_28={class:"item"},_hoisted_29=_withScopeId((()=>createBaseVNode("div",{class:"content"},[createBaseVNode("div",{class:"title"},"修改邮箱")],-1))),_hoisted_30={class:"action"},_hoisted_31=createTextVNode("绑定"),__default__=defineComponent({name:"PersonalSetting"}),_sfc_main=Object.assign(__default__,{setup(__props){const router=useRouter(),form=ref({headimg:"",name:""});function onKeep(){api.post("/api/edituserid",{newuserid:form.value.name}).then((()=>{ElMessage.success("修改信息成功! 请重新登录"),userStore.logout().then((()=>{router.push({name:"login",query:{redirect:"/login"!==router.currentRoute.value.path?router.currentRoute.value.fullPath:void 0}})}))}))}const userStore=useUserStore(),data=ref({myQueries:[],myAnswers:[],myConcerns:[],myAnswerShow:!1,myQueryShow:!1,myConcernsShow:!1,upload:{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+userStore.token},data:{type:"avatar"},url:"http://127.0.0.1:8000/"},avatar:userStore.userAvatar?userStore.userAvatar:""});function handleSuccess(e){data.value.avatar=e,userStore.userAvatar=e,data.value.avatar=userStore.userAvatar,ElMessage.success("头像上传成功")}function editPassword(){router.push({name:"personalEditPassword"})}function editEmail(){router.push({name:"personalEditEmail"})}function myQuery(e){router.push({name:"detailProblem",params:{id:e}})}function getMyAnswer(){data.value.myAnswers=[],data.value.myAnswerShow=!0,api.get("/api/getuserinfo",{params:{sort:"answer"}}).then((res=>{0!==res.data.quiz_list.length?res.data.quiz_list.forEach((item=>{api.get("api/quizinfo",{params:{qid:item.qid}}).then((re=>{data.value.myAnswers.push({title:re.data.quiz_list[0].title,qid:item.qid,aid:item.id,username:item.username,ansNum:re.data.quiz_list[0].ans_num,agreeNum:item.like,sendTime:item.time.split("T")[0],detailShow:!1,detailInfo:item.content.replace(eval("/\\\\/g"),"\\").replace(/(。|！|？)/g,"$1\n"),briefDetail:item.content.substring(0,100).replace(eval("/\\\\/g"),"\\").replace(/(。|！|？)/g,"$1\n")+"...."}),data.value.myAnswerShow=!1})).catch((()=>data.value.myAnswerShow=!1))})):data.value.myAnswerShow=!1})).catch((()=>data.value.myAnswerShow=!1))}function answerDel(e){api.post("/api/delanswer",{aid:e}).then((e=>{ElMessage.success(e.message),getMyAnswer()}))}function getMyQuery(){data.value.myQueries=[],data.value.myQueryShow=!0,api.get("/api/getuserinfo",{params:{sort:"quiz"}}).then((e=>{e.data.quiz_list.forEach((e=>{data.value.myQueries.push({qid:e.qid,title:e.title,keywords:e.keyWords.join("-"),ansNum:e.ans_num,sendTime:e.time.replace("T"," ").split(".")[0]})})),data.value.myQueryShow=!1})).catch((()=>data.value.myQueryShow=!1))}function proDel(e){api.post("/api/delquiz",{qid:e}).then((e=>{ElMessage.success(e.message),getMyQuery()}))}function getMyConcerns(){data.value.myConcerns=[],data.value.myConcernsShow=!0,api.get("/api/getuserinfo",{params:{sort:"starquiz"}}).then((e=>{e.data.quiz_list.forEach((e=>{data.value.myConcerns.push({qid:e.qid,title:e.title,keywords:e.keyWords.join("-"),ansNum:e.ans_num,sendTime:e.time.replace("T"," ").split(".")[0]})})),data.value.myConcernsShow=!1})).catch((()=>data.value.myConcernsShow=!1))}function starDel(e){api.get("/api/removestar",{params:{qid:e}}).then((e=>{ElMessage.success(e.message),getMyConcerns()}))}function tabClick(e){userStore.isLogin?("myAnswer"===e.props.name&&getMyAnswer(),"myQuery"===e.props.name&&getMyQuery(),"myConcerns"===e.props.name&&getMyConcerns()):ElMessage.error("当前未登录!!请先登录")}function onRequest(e){if(userStore.isLogin){let t=new FormData;t.append("file",e.file),axios({baseURL:"http://127.0.0.1:8000/",url:"/api/uploadfile?type=avatar",method:"post",headers:data.value.upload.headers,data:t}).then((t=>{if(200===t.status)if(200===t.data.code){let a="http://127.0.0.1:8000/"+t.data.data.imageurl.replace("/","");e.onSuccess(a)}else"未检测到token"===t.data.message?ElMessage.error("登录信息已过期, 请重新登录"):ElMessage.error(t.data.message)})).catch((e=>{}))}else ElMessage.error("当前未登录!!请先登录")}return onMounted((()=>{userStore.isLogin?api.get("/api/selfinfo").then((e=>{form.value.name=e.data.info.userId})):ElMessage.error("当前未登录!!请先登录")})),(e,t)=>{const a=ElInput,o=ElFormItem,s=ElButton,l=ElForm,r=ElCol,n=__unplugin_components_5,i=ElRow,d=ElTabPane,c=_sfc_main$a,u=ElIcon,p=__unplugin_components_10,f=ElScrollbar,m=ElTabs,_=__unplugin_components_9,h=vLoading;return openBlock(),createElementBlock("div",null,[createVNode(_,null,{default:withCtx((()=>[createVNode(m,{"tab-position":"left",style:{height:"600px"},onTabClick:tabClick},{default:withCtx((()=>[createVNode(d,{label:"基本设置",class:"basic"},{default:withCtx((()=>[_hoisted_1,createVNode(i,{gutter:20},{default:withCtx((()=>[createVNode(r,{span:16},{default:withCtx((()=>[createVNode(l,{ref:"formRef",model:form.value,"label-width":"120px","label-suffix":"："},{default:withCtx((()=>[createVNode(o,{label:"名 称"},{default:withCtx((()=>[createVNode(a,{modelValue:form.value.name,"onUpdate:modelValue":t[0]||(t[0]=e=>form.value.name=e),placeholder:"请输入你的名称"},null,8,["modelValue"])])),_:1}),createVNode(o,null,{default:withCtx((()=>[createVNode(s,{type:"primary",onClick:onKeep},{default:withCtx((()=>[_hoisted_2])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),createVNode(r,{span:8},{default:withCtx((()=>[createVNode(n,{url:data.value.avatar,"onUpdate:url":t[1]||(t[1]=e=>data.value.avatar=e),action:data.value.upload.url,name:"file",headers:data.value.upload.headers,data:data.value.upload.data,notip:"",class:"headimg-upload",onOnSuccess:handleSuccess,onOnRequest:onRequest},null,8,["url","action","headers","data"])])),_:1})])),_:1})])),_:1}),createVNode(d,{label:"我的回答",name:"myAnswer"},{default:withCtx((()=>[withDirectives((openBlock(),createElementBlock("div",null,[createVNode(f,{height:"600px"},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(data.value.myAnswers,((e,t)=>(openBlock(),createElementBlock("div",{key:t,class:"answer-box"},[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createBaseVNode("div",{class:"title",onClick:t=>myQuery(e.qid)},toDisplayString(e.title),9,_hoisted_5),e.detailShow?(openBlock(),createElementBlock("div",{key:0,class:"icon-box",onClick:t=>e.detailShow=!e.detailShow},[createVNode(u,{class:"icon"},{default:withCtx((()=>[createVNode(c,{name:"ep:caret-top"})])),_:1}),_hoisted_7],8,_hoisted_6)):createCommentVNode("",!0)]),createBaseVNode("div",{class:"content",onClick:t=>e.detailShow=!0},[e.detailShow?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_9,toDisplayString(e.briefDetail),1)),e.detailShow?(openBlock(),createBlock(p,{key:1,"user-name":e.userName,"agree-number":e.agreeNumber,"detail-info":e.detailInfo,"send-time":e.sendTime,"show-avatar":!1,"user-name-size":"15px"},null,8,["user-name","agree-number","detail-info","send-time"])):(openBlock(),createElementBlock("div",_hoisted_10,[_hoisted_11,createVNode(u,null,{default:withCtx((()=>[createVNode(c,{name:"ep:arrow-down"})])),_:1})]))],8,_hoisted_8),createBaseVNode("div",_hoisted_12,[createBaseVNode("span",null,toDisplayString(e.ansNum)+"回答 · "+toDisplayString(e.agreeNum)+"点赞 · "+toDisplayString(e.sendTime),1),createVNode(s,{type:"danger",size:"small",style:{"margin-left":"10px"},text:"",onClick:t=>answerDel(e.aid)},{default:withCtx((()=>[_hoisted_13])),_:2},1032,["onClick"])])])])))),128))])),_:1})])),[[h,data.value.myAnswerShow]])])),_:1}),createVNode(d,{label:"我的提问",name:"myQuery"},{default:withCtx((()=>[withDirectives((openBlock(),createElementBlock("div",null,[createVNode(f,{height:"600px"},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(data.value.myQueries,((e,t)=>(openBlock(),createElementBlock("div",{key:t,class:"answer-box"},[createBaseVNode("div",_hoisted_14,[createBaseVNode("div",{class:"title",onClick:t=>myQuery(e.qid)},toDisplayString(e.title),9,_hoisted_15),createBaseVNode("div",_hoisted_16,[createBaseVNode("span",null,toDisplayString(e.ansNum)+"回答 · "+toDisplayString(e.sendTime)+" · 关键字: "+toDisplayString(e.keywords),1),createVNode(s,{type:"danger",size:"small",style:{"margin-left":"10px"},text:"",onClick:t=>proDel(e.qid)},{default:withCtx((()=>[_hoisted_17])),_:2},1032,["onClick"])])])])))),128))])),_:1})])),[[h,data.value.myQueryShow]])])),_:1}),createVNode(d,{label:"我关注的问题",name:"myConcerns"},{default:withCtx((()=>[withDirectives((openBlock(),createElementBlock("div",null,[createVNode(f,{height:"600px"},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(data.value.myConcerns,((e,t)=>(openBlock(),createElementBlock("div",{key:t,class:"answer-box"},[createBaseVNode("div",_hoisted_18,[createBaseVNode("div",{class:"title",onClick:t=>myQuery(e.qid)},toDisplayString(e.title),9,_hoisted_19),createBaseVNode("div",_hoisted_20,[createBaseVNode("span",null,toDisplayString(e.ansNum)+"回答 · "+toDisplayString(e.sendTime)+" · 关键字: "+toDisplayString(e.keywords),1),createVNode(s,{type:"danger",size:"small",style:{"margin-left":"10px"},text:"",onClick:t=>starDel(e.qid)},{default:withCtx((()=>[_hoisted_21])),_:2},1032,["onClick"])])])])))),128))])),_:1})])),[[h,data.value.myConcernsShow]])])),_:1}),createVNode(d,{label:"安全设置",class:"security"},{default:withCtx((()=>[_hoisted_22,createBaseVNode("div",_hoisted_23,[createBaseVNode("div",_hoisted_24,[_hoisted_25,createBaseVNode("div",_hoisted_26,[createVNode(s,{text:"",onClick:editPassword},{default:withCtx((()=>[_hoisted_27])),_:1})])]),createBaseVNode("div",_hoisted_28,[_hoisted_29,createBaseVNode("div",_hoisted_30,[createVNode(s,{text:"",onClick:editEmail},{default:withCtx((()=>[_hoisted_31])),_:1})])])])])),_:1})])),_:1})])),_:1})])}}});"function"==typeof block0&&block0(_sfc_main);var setting=_export_sfc$1(_sfc_main,[["__scopeId","data-v-f04428b8"]]);export{setting as default};
