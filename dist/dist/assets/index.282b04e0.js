import{d as a,j as e,k as t,z as o,l as s,m as l,aN as i,G as r,o as n,c as p,p as c,e as d,a as u,w as m,s as g,q as f,ad as b,E as v,t as j,x as h}from"./index.03c48972.js";import{v as x}from"./el-loading.7ea27e0d.js";import{_ as y}from"./index.e876bfd6.js";import{E as k,a as w}from"./el-table-column.e507c57f.js";import"./el-checkbox.078f288b.js";import"./el-tooltip.586473e3.js";import"./el-popper.37fe7769.js";/* empty css                     *//* empty css                */import{_,a as C}from"./index.5b3d3b8c.js";import{b as I}from"./route-block.7fdbc26a.js";import"./index.d5ddc6ef.js";import"./event.69d56c48.js";import"./focus-trap.05b6ecac.js";import"./debounce.acd355f1.js";import"./index.daa86f2a.js";import"./index.52c3fe84.js";const L={key:0,class:"backgroundImg"},T={style:{display:"flex","justify-content":"center",width:"100%"}},E=[(a=>(j("data-v-2dd14904"),a=a(),h(),a))((()=>c("span",{class:"enter"}," Enter →",-1)))],N={key:1,style:{margin:"10px 20px"}},S=a({name:"dashboard"}),q=Object.assign(S,{setup(a){const j=e(),h=t(),_=o(),I=s(),S=s({loading:!1,dataList:[]});function q(){0===h.permissions[0]&&_.push({name:"homePageList"})}function z(){j.toggleTopCollapse()}return l((async()=>{j.topStatus||j.toggleTopCollapse(),I.value=0!==(await h.getPermissions())[0],I.value&&(S.value.loading=!0,r.get("/api/log",{params:{offset:0,limit:10,userId:h.account}}).then((a=>{S.value.dataList=[],a.data.quiz_list.forEach(((a,e)=>{let t={id:e+1,logDate:a.log_date.replace("T"," ").split(".")[0],logName:a.userId,logInfo:a.operation};S.value.dataList.push(t)}))})).catch((()=>{S.value.dataList=[]})),S.value.loading=!1,j.toggleTopCollapse())})),i((()=>{j.topStatus&&j.toggleTopCollapse()})),(a,e)=>{const t=C,o=v,s=k,l=w,i=y,r=x;return n(),p("div",null,[I.value?(n(),p("div",N,[f((n(),u(l,{ref:"table",class:"list-table",data:S.value.dataList,border:"",stripe:"","highlight-current-row":""},{default:m((()=>[g(s,{prop:"id",label:"日志编号",width:"150",align:"center"}),g(s,{prop:"logDate",label:"日志日期",width:"200",align:"center"}),g(s,{prop:"logInfo",label:"日志信息",align:"center"}),g(s,{prop:"logName",label:"用户名",width:"200",align:"center",sortable:""})])),_:1},8,["data"])),[[r,S.value.loading]])])):(n(),p("div",L,[c("div",T,[d(j).topStatus?(n(),u(o,{key:0,class:"top-icon-box",onClick:z},{default:m((()=>[g(t,{name:"ep:arrow-down",class:"top-icon"})])),_:1})):(n(),u(o,{key:1,class:"top-icon-box",onClick:z},{default:m((()=>[g(t,{name:"ep:arrow-up",class:"top-icon"})])),_:1}))]),c("button",{class:"button",onClick:q},E)])),g(i,{class:"copyright",style:b({color:I.value?"var(--el-text-color-secondary)":""})},null,8,["style"])])}}});"function"==typeof I&&I(q);var z=_(q,[["__scopeId","data-v-2dd14904"]]);export{z as default};
